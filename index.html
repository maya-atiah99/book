<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Book</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-family: sans-serif;
        margin: 0;
        padding: 1rem;
      }
      .viewer {
        display: flex;
        gap: 10px;
      }
      .btnNext,
      .btnPrevious {
        width: 30px;
        height: 30px;
        cursor: pointer;
        opacity: 1;
        transition: opacity 0.2s;
      }
      .btnDisabled {
        opacity: 0.3;
        pointer-events: none;
        cursor: default;
      }
      iframe {
        width: 600px;
        height: 700px;
        border: none;
      }
      .controls {
        margin-top: 1rem;
        display: flex;
        gap: 20px;
      }

      /* Mobile/Tablet view: single page only */
      @media (max-width: 1024px) {
        .viewer {
          justify-content: center; /* center the single page */
        }
        #page2 {
          display: none; /* hide second page */
        }
        iframe {
          width: 90vw;
          height: 70vh;
        }
      }
    </style>
  </head>
  <body>
    <div class="viewer">
      <iframe id="page2"></iframe>
      <iframe id="page1"></iframe>
    </div>

    <div class="controls">
      <div class="btnPrevious" id="btnNext" onclick="nextPage()">
        <!-- RIGHT ARROW -->
        <svg
          width="30px"
          height="30px"
          viewBox="0 0 16 16"
          fill="#e4656e"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
          />
          <path
            fill-rule="evenodd"
            d="M8.354 11.354a.5.5 0 0 0 0-.708L5.707 8l2.647-2.646a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708 0z"
          />
          <path
            fill-rule="evenodd"
            d="M11.5 8a.5.5 0 0 0-.5-.5H6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 .5-.5z"
          />
        </svg>
      </div>
      <div class="btnNext" id="btnPrev" onclick="prevPage()">
        <!-- LEFT ARROW -->
        <svg
          width="30px"
          height="30px"
          viewBox="0 0 16 16"
          fill="#e4656e"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
          />
          <path
            fill-rule="evenodd"
            d="M7.646 11.354a.5.5 0 0 1 0-.708L10.293 8 7.646 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0z"
          />
          <path
            fill-rule="evenodd"
            d="M4.5 8a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"
          />
        </svg>
      </div>
    </div>

    <script>
      const totalPages = 204;
      let currentIndex = 0;

      function isSinglePageMode() {
        return window.innerWidth <= 1024;
      }

      function updateButtons() {
        const prevBtn = document.getElementById('btnPrev');
        if (currentIndex === 0) {
          prevBtn.classList.add('btnDisabled');
        } else {
          prevBtn.classList.remove('btnDisabled');
        }
      }

      function loadPages() {
        const singlePage = isSinglePageMode();

        document.getElementById('page1').src = `pages/page${
          currentIndex + 1
        }.html`;

        if (!singlePage) {
          document.getElementById('page2').src =
            currentIndex + 2 <= totalPages
              ? `pages/page${currentIndex + 2}.html`
              : '';
        }
        updateButtons();
      }

      function nextPage() {
        const step = isSinglePageMode() ? 1 : 2;
        if (currentIndex + step < totalPages) {
          currentIndex += step;
          loadPages();
        }
      }

      function prevPage() {
        const step = isSinglePageMode() ? 1 : 2;
        if (currentIndex - step >= 0) {
          currentIndex -= step;
          loadPages();
        }
      }

      window.addEventListener('resize', loadPages);
      loadPages();
    </script>
  </body>
</html>
